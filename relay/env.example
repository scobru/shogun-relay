# ============================================================================
# SHOGUN RELAY - PROVIDER CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your values
# See PROVIDER_GUIDE.md for detailed documentation
# ============================================================================

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Admin password - used for API authentication and dashboard access
# Generate with: openssl rand -hex 32
ADMIN_PASSWORD=your_secure_admin_password_here

# ============================================================================
# RELAY IDENTITY
# ============================================================================

# Public hostname or IP address (required for network discovery)
RELAY_HOST=localhost

# HTTP port for the relay server
RELAY_PORT=8765

# Display name for your relay (shown in network listings)
RELAY_NAME=MyRelay

# ============================================================================
# IPFS CONFIGURATION
# ============================================================================

# IPFS API endpoint (default: local IPFS daemon)
IPFS_API_URL=http://127.0.0.1:5001

# IPFS Gateway for content retrieval
IPFS_GATEWAY_URL=http://127.0.0.1:8080

# Optional: JWT token for IPFS API authentication
# IPFS_API_TOKEN=

# ============================================================================
# GUNDB CONFIGURATION
# ============================================================================

# GunDB relay user credentials (for owning subscription data)
# If not set, defaults to RELAY_NAME / ADMIN_PASSWORD
RELAY_GUN_USERNAME=shogun-relay
RELAY_GUN_PASSWORD=your_secure_relay_password_here

# Comma-separated list of peer relays to sync with
# RELAY_PEERS=https://other-relay.com/gun,https://another-relay.com/gun

# Require admin token for Gun writes (recommended: true)
RELAY_PROTECTED=true

# Enable RADISK persistence (recommended: true)
# Set to true to disable for debugging
DISABLE_RADISK=false

# Auto-cleanup corrupted data on startup
CLEANUP_CORRUPTED_DATA=false

# ============================================================================
# ON-CHAIN REGISTRY (Required for earning revenue)
# ============================================================================

# Your wallet private key for on-chain operations
# Used for: registration, staking, deal registration
# WARNING: Keep this secret! Never commit to git!
# Generate new wallet: node -e "console.log(require('ethers').Wallet.createRandom().privateKey)"
RELAY_PRIVATE_KEY=0x_your_private_key_here

# Chain ID for the registry contract
# 84532 = Base Sepolia (testnet) - use for testing
# 8453  = Base Mainnet - use for production
REGISTRY_CHAIN_ID=84532

# ============================================================================
# X402 PAYMENT CONFIGURATION (Required for earning revenue)
# ============================================================================

# Your wallet address to receive payments
# This is where subscription and deal payments will be sent
X402_PAY_TO_ADDRESS=0x_your_wallet_address_here

# Private key for settling payments
# Can be same as RELAY_PRIVATE_KEY or different
# Needs ETH for gas when using 'direct' settlement
X402_PRIVATE_KEY=0x_your_private_key_here

# Blockchain network for payments
# Options: base-sepolia (testnet), base (mainnet)
X402_NETWORK=base-sepolia

# Settlement mode
# 'facilitator' - Uses x402.org service (no gas needed, depends on service)
# 'direct'      - Settle locally (full control, needs ETH for gas)
X402_SETTLEMENT_MODE=direct

# Optional: Custom facilitator URL (default: https://x402.org/facilitator)
# X402_FACILITATOR_URL=https://x402.org/facilitator

# Optional: Facilitator API key if required
# X402_FACILITATOR_API_KEY=

# Optional: Custom RPC URL (defaults to public RPC)
# X402_RPC_URL=https://your-rpc-url

# ============================================================================
# STORAGE LIMITS
# ============================================================================

# Maximum total storage available on this relay (in GB)
# If not set or 0, no global limit is enforced
RELAY_MAX_STORAGE_GB=10

# Warning threshold percentage (default 80%)
# Users will be warned when relay storage exceeds this percentage
RELAY_STORAGE_WARNING_THRESHOLD=80

# ============================================================================
# NETWORK FEDERATION
# ============================================================================

# Automatically pin content from network pin requests
# Helps with data redundancy across the network
AUTO_REPLICATION=true

# ============================================================================
# HOLSTER RELAY (WebSocket enhancement)
# ============================================================================

# Holster relay host address
HOLSTER_RELAY_HOST=0.0.0.0

# Holster relay port (default: RELAY_PORT + 1)
# HOLSTER_RELAY_PORT=8766

# Enable persistent storage for Holster
HOLSTER_RELAY_STORAGE=true

# Path for Holster data
HOLSTER_RELAY_STORAGE_PATH=./holster-data

# Maximum connections for Holster
HOLSTER_MAX_CONNECTIONS=100

# ============================================================================
# ADVANCED OPTIONS
# ============================================================================

# Data directory for RADISK persistence
DATA_DIR=./data

# Enable QR code generation
RELAY_QR=false

# Enable file storage
RELAY_STORE=true

# Public path
RELAY_PATH=public
