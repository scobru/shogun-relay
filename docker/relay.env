# Shogun Relay Configuration for Docker Container
# This file is automatically copied to /app/relay/.env during container build

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Admin Authentication
ADMIN_PASSWORD=shogun2025

# ============================================================================
# RELAY IDENTITY
# ============================================================================

RELAY_HOST=0.0.0.0
RELAY_PORT=8765
RELAY_NAME=Shogun-Relay-Docker
WELCOME_MESSAGE="*** WELCOME TO SHOGUN RELAY DOCKER ***"

# ============================================================================
# FEATURE FLAGS (Enable/Disable Modules)
# ============================================================================

IPFS_ENABLED=true
HOLSTER_ENABLED=true
X402_ENABLED=false
REGISTRY_ENABLED=false
DEALS_ENABLED=false
DEAL_SYNC_ENABLED=false
WORMHOLE_ENABLED=true
TORRENT_ENABLED=true
ANNAS_ARCHIVE_ENABLED=true

# ============================================================================
# IPFS CONFIGURATION
# ============================================================================

# IPFS Configuration (container-internal)
IPFS_API_URL=http://127.0.0.1:5001
IPFS_GATEWAY_URL=http://127.0.0.1:8080
IPFS_PIN_TIMEOUT_MS=120000
IPFS_API_TOKEN=shogun2025

# ============================================================================
# GUNDB CONFIGURATION
# ============================================================================

# Relay GunDB User (for x402 subscription data ownership)
# REQUIRED: Direct SEA Keypair
# To generate keys during Docker build, set: GENERATE_RELAY_KEYS=true
# Or mount keypair to: /app/keys/relay-keypair.json
RELAY_SEA_KEYPAIR_PATH=/app/keys/relay-keypair.json

RELAY_PEERS=http://127.0.0.1:8765/gun
RELAY_PROTECTED=false

# Data persistence
DATA_DIR=/app/relay/data
STORAGE_TYPE=sqlite
DISABLE_RADISK=true
CLEANUP_CORRUPTED_DATA=false

# ============================================================================
# ON-CHAIN REGISTRY CONFIGURATION (Multi-Chain)
# ============================================================================

# Private key for on-chain operations (registration, staking, deals)
# RELAY_PRIVATE_KEY=
# Supported networks
# REGISTRY_NETWORKS=base-sepolia,base
# REGISTRY_DEFAULT_NETWORK=base-sepolia

# ============================================================================
# GLOBAL RPC CONFIGURATION
# ============================================================================
# BASE_SEPOLIA_RPC=
# BASE_RPC=


# ============================================================================
# X402 PAYMENT CONFIGURATION
# ============================================================================

# Your wallet address to receive payments (required for x402)
# X402_PAY_TO_ADDRESS=
# Private key for settlement
# X402_PRIVATE_KEY=
# Supported networks
# X402_NETWORKS=base-sepolia,base
# X402_DEFAULT_NETWORK=base-sepolia
# Settlement mode: 'facilitator' or 'direct'
# X402_SETTLEMENT_MODE=direct

# ============================================================================
# DEALS CONFIGURATION
# ============================================================================

# DEALS_NETWORKS=base-sepolia,base
# DEALS_DEFAULT_NETWORK=base-sepolia

# Deal Sync settings
# DEAL_SYNC_INTERVAL_MS=300000
# DEAL_SYNC_FAST_INTERVAL_MS=120000
# DEAL_SYNC_INITIAL_DELAY_MS=30000

# ============================================================================
# TORRENT MANAGER
# ============================================================================

TORRENT_ANNAS_ARCHIVE_URL=https://annas-archive.li/dyn/generate_torrents
TORRENT_DATA_DIR=/app/relay/data/torrents
TORRENT_MAX_TB=1.0

# ============================================================================
# WORMHOLE SERVICE
# ============================================================================

WORMHOLE_CLEANUP_ENABLED=true
WORMHOLE_CLEANUP_INTERVAL_MS=3600000
WORMHOLE_MAX_AGE_SECS=86400

# ============================================================================
# STORAGE LIMITS
# ============================================================================

RELAY_MAX_STORAGE_GB=10
RELAY_STORAGE_WARNING_THRESHOLD=80

# ============================================================================
# NETWORK FEDERATION
# ============================================================================

AUTO_REPLICATION=true

# ============================================================================
# DRIVE SERVICE
# ============================================================================

DRIVE_DATA_DIR=/app/relay/data/drive

# ============================================================================
# HOLSTER RELAY
# ============================================================================

HOLSTER_RELAY_HOST=0.0.0.0
# HOLSTER_RELAY_PORT=8766
HOLSTER_RELAY_STORAGE=true
HOLSTER_RELAY_STORAGE_PATH=/app/relay/holster-data
HOLSTER_MAX_CONNECTIONS=100

# ============================================================================
# LOGGING & DEBUG
# ============================================================================

LOG_LEVEL=info
DEBUG=false
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=512

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

CORS_ORIGINS=*
CORS_CREDENTIALS=false
STRICT_SESSION_IP=true

# ============================================================================
# LOCALTUNNEL SERVER
# ============================================================================

TUNNEL_ENABLED=false
# TUNNEL_DOMAIN=your-domain.com
TUNNEL_PORT=8767
# TUNNEL_SECURE=false
TUNNEL_MAX_SOCKETS=10
# TUNNEL_LANDING_PAGE=https://shogun.network
# TUNNEL_REQUIRE_AUTH=false
