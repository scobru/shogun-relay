# Shogun Relay Configuration for Docker Container
# This file is automatically copied to /app/relay/.env during container build

# Relay Server Configuration
RELAY_HOST=0.0.0.0
RELAY_PORT=8765
RELAY_STORE=true
RELAY_PATH=public
RELAY_QR=false
RELAY_NAME=Shogun-Relay-Docker
RELAY_PEERS=http://127.0.0.1:8765/gun
RELAY_PROTECTED=false

# Admin Authentication
ADMIN_PASSWORD=shogun2025

# Relay GunDB User (for x402 subscription data ownership)
# This user owns the subscription data - only the relay can modify/delete it
RELAY_GUN_USERNAME=shogun-relay
RELAY_GUN_PASSWORD=shogun2025

# On-Chain Registry Configuration
# Private key for on-chain operations (registration, staking, deals)
# Generate: node -e "console.log(require('ethers').Wallet.createRandom().privateKey)"
RELAY_PRIVATE_KEY=
# Chain ID: 84532 = Base Sepolia (testnet), 8453 = Base Mainnet
REGISTRY_CHAIN_ID=84532

# x402 Payment Configuration for IPFS Storage Subscriptions
# Your wallet address to receive payments (required for x402)
X402_PAY_TO_ADDRESS=
# Network: base, base-sepolia, polygon, polygon-amoy
X402_NETWORK=base-sepolia
# Settlement mode: 'facilitator' (uses x402.org) or 'direct' (local settlement)
# If facilitator fails and private key is set, automatic fallback to direct
X402_SETTLEMENT_MODE=direct
# Optional: Custom facilitator URL
# X402_FACILITATOR_URL=https://x402.org/facilitator
# For direct settlement (also used as fallback when facilitator fails)
# This is the private key of the wallet that executes transferWithAuthorization
# IMPORTANT: This wallet needs ETH for gas fees on the target network
X402_PRIVATE_KEY=
# Optional: Custom RPC URL (defaults to public RPC for the network)
# X402_RPC_URL=

# IPFS Configuration (container-internal)
IPFS_API_URL=http://127.0.0.1:5001
IPFS_GATEWAY_URL=http://127.0.0.1:8080
IPFS_API_TOKEN=
IPFS_API_KEY=

# Relay Storage Limits
# Maximum total storage available on this relay (in GB)
# If not set or 0, no global limit is enforced
RELAY_MAX_STORAGE_GB=10
# Warning threshold percentage (default 80%)
# Users will be warned when relay storage exceeds this percentage
RELAY_STORAGE_WARNING_THRESHOLD=80

# Holster Relay (WebSocket enhancement)
HOLSTER_RELAY_HOST=0.0.0.0
# HOLSTER_RELAY_PORT=8766
HOLSTER_RELAY_STORAGE=true
HOLSTER_RELAY_STORAGE_PATH=/app/relay/holster-data
HOLSTER_MAX_CONNECTIONS=100

# Network Federation
AUTO_REPLICATION=true

# Performance Tuning for Containers
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=512

# Data persistence
DATA_DIR=/app/relay/data
DISABLE_RADISK=false
CLEANUP_CORRUPTED_DATA=false

# Logging Configuration
LOG_LEVEL=info
VERBOSE_LOGGING=false

